"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[321],{798:function(e,t,r){r.d(t,{r:function(){return c}});var i=r(7437),a=r(2265);let n=["#4f46e5","#db2777","#059669","#d97706","#6d28d9"],o=(e,t)=>({x:e.position.x*t+30,y:e.position.y*t+15}),s=(e,t,r)=>{let i=e.position.x*r,a=e.position.y*r;return({top:{x:i+30,y:a},right:{x:i+60,y:a+15},bottom:{x:i+30,y:a+30},left:{x:i,y:a+15}})[t]},l=(e,t)=>{if(e.id===t.id)return{fromSide:"top",toSide:"top"};let r={x:e.position.x+30,y:e.position.y+15},i={x:t.position.x+30,y:t.position.y+15},a=i.x-r.x,n=i.y-r.y;return Math.abs(a)>Math.abs(n)?{fromSide:a>0?"right":"left",toSide:a>0?"left":"right"}:{fromSide:n>0?"bottom":"top",toSide:n>0?"top":"bottom"}},d=function(e,t){let r,i,a,n,o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(o){let t=e.x+15,r=e.y-15,i=e.x+15,a=e.y+15;return"M ".concat(e.x," ").concat(e.y,"\n            C ").concat(t," ").concat(r,"\n              ").concat(i," ").concat(a,"\n              ").concat(e.x," ").concat(e.y)}let s=t.x-e.x,l=t.y-e.y,d=Math.min(.3*Math.sqrt(s*s+l*l),20);return Math.abs(s)>Math.abs(l)?(r=e.x+(s>0?d:-d),i=e.y,a=t.x+(s>0?-d:d),n=t.y):(r=e.x,i=e.y+(l>0?d:-d),a=t.x,n=t.y+(l>0?-d:d)),"M ".concat(e.x," ").concat(e.y," C ").concat(r," ").concat(i," ").concat(a," ").concat(n," ").concat(t.x," ").concat(t.y)},c=e=>{let{components:t,connections:r,width:c=400,height:x=200,className:h=""}=e,{scale:m,offsetX:u,offsetY:f}=(0,a.useMemo)(()=>{if(0===t.length)return{scale:1,offsetX:0,offsetY:0};let e=1/0,r=1/0,i=-1/0,a=-1/0;t.forEach(t=>{e=Math.min(e,t.position.x),r=Math.min(r,t.position.y),i=Math.max(i,t.position.x+60+25),a=Math.max(a,t.position.y+30+25)});let n=i-e,o=a-r,s=c-50,l=x-50,d=t.length>15?.2:t.length>10?.3:t.length>5?.4:.5,h=n/o,m=Math.min(n>0?s/n:1,o>0?l/o:1,d*(h>3?.6:h>2?.7:h>1.5?.8:1)),u=(c-n*m)/2-e*m,f=(x-o*m)/2-r*m;return{scale:m,offsetX:u,offsetY:f}},[t,c,x]),y=(0,a.useMemo)(()=>r.map((e,r)=>{let a=t.find(t=>t.id===e.from),o=t.find(t=>t.id===e.to);if(!a||!o)return null;let c=a.id===o.id,{fromSide:x,toSide:h}=l(a,o),y=s(a,x,m),p=c?y:s(o,h,m);y.x+=u,y.y+=f,p.x+=u,p.y+=f;let g=d(y,p,c),b=n[r%n.length];return(0,i.jsx)("g",{children:(0,i.jsx)("path",{d:g,stroke:b,strokeWidth:1.5,fill:"none",markerEnd:"url(#preview-arrowhead-".concat(r%n.length,")")})},e.id)}),[t,r,m,u,f]),p=(0,a.useMemo)(()=>m>=.25?y:r.map((e,r)=>{let a=t.find(t=>t.id===e.from),s=t.find(t=>t.id===e.to);if(!a||!s||a.id===s.id)return null;let l=o(a,m),d=o(s,m);l.x+=u,l.y+=f,d.x+=u,d.y+=f;let c=n[r%n.length];return(0,i.jsx)("g",{children:(0,i.jsx)("line",{x1:l.x,y1:l.y,x2:d.x,y2:d.y,stroke:c,strokeWidth:m<.15?.5:1,markerEnd:"url(#preview-arrowhead-".concat(r%n.length,")")})},e.id)}),[t,r,m,u,f,y]);return(0,i.jsxs)("div",{className:"relative bg-gradient-to-br from-slate-50 to-slate-100 border-2 border-blue-300 rounded-lg overflow-hidden ".concat(h),style:{minHeight:x,minWidth:c},children:[(0,i.jsxs)("svg",{width:c,height:x,className:"absolute inset-0",style:{zIndex:1},children:[(0,i.jsxs)("defs",{children:[n.map((e,t)=>(0,i.jsx)("marker",{id:"preview-arrowhead-".concat(t),markerWidth:"8",markerHeight:"6",refX:"7",refY:"3",orient:"auto",markerUnits:"strokeWidth",children:(0,i.jsx)("path",{d:"M0,0 L0,6 L8,3 z",fill:e})},t)),(0,i.jsx)("pattern",{id:"preview-grid",width:"20",height:"20",patternUnits:"userSpaceOnUse",children:(0,i.jsx)("path",{d:"M 20 0 L 0 0 0 20",fill:"none",stroke:"#e2e8f0",strokeWidth:"0.5",opacity:"0.3"})})]}),(0,i.jsx)("rect",{width:"100%",height:"100%",fill:"url(#preview-grid)"}),m>=.2?y:p]}),(0,i.jsx)("div",{className:"absolute inset-0",style:{zIndex:2},children:t.map(e=>(0,i.jsx)("div",{className:"absolute border border-slate-300 rounded-md shadow-sm bg-white text-xs ".concat(m<.25?"flex items-center justify-center":""),style:{left:e.position.x*m+u,top:e.position.y*m+f,width:60,height:30,backgroundColor:e.color||"#ffffff"},children:m>=.25?(0,i.jsxs)("div",{className:"px-1 py-1 h-full flex flex-col justify-center items-center overflow-hidden",children:[(0,i.jsx)("div",{className:"font-medium text-slate-800 text-center text-xs leading-tight mb-0.5 w-full px-1",children:(0,i.jsx)("div",{className:"truncate",children:e.label})}),(0,i.jsx)("div",{className:"text-xs text-slate-500 text-center w-full px-1",children:(0,i.jsx)("div",{className:"truncate",children:e.type})})]}):(0,i.jsx)("div",{className:"w-full h-full flex items-center justify-center",children:(0,i.jsx)("div",{className:"w-1.5 h-1.5 rounded-full bg-slate-700"})})},e.id))}),m<.25&&(0,i.jsx)("div",{className:"absolute top-2 right-2 bg-black bg-opacity-70 text-white text-xs px-2 py-1 rounded z-10",children:"Simplified view"}),0===t.length&&(0,i.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,i.jsxs)("div",{className:"text-center text-slate-500",children:[(0,i.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCD0"}),(0,i.jsx)("div",{className:"text-sm",children:"No components"})]})})]})}},6651:function(e,t,r){r.d(t,{z:function(){return a}});var i=r(7437);r(2265);let a=e=>{let{children:t,onClick:r,variant:a="primary",size:n="md",disabled:o=!1,className:s="",type:l="button"}=e,d="".concat("inline-flex items-center justify-center font-medium rounded-md transition-all duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-offset-light-bg dark:focus:ring-offset-dark-bg disabled:opacity-50 disabled:cursor-not-allowed"," ").concat({primary:"bg-primary-500 text-white hover:bg-primary-600 focus:ring-primary-500 shadow-soft hover:shadow-soft-hover transform hover:scale-105",secondary:"bg-gray-100 dark:bg-dark-surface text-gray-900 dark:text-dark-text hover:bg-gray-200 dark:hover:bg-dark-card focus:ring-gray-500",outline:"border-2 border-primary-500 text-primary-500 dark:text-primary-400 hover:bg-primary-50 dark:hover:bg-primary-900/20 focus:ring-primary-500"}[a]," ").concat({sm:"px-3 py-1.5 text-sm",md:"px-4 py-2 text-sm",lg:"px-6 py-3 text-base"}[n]," ").concat(s);return(0,i.jsx)("button",{type:l,onClick:r,disabled:o,className:d,children:t})}},492:function(e,t,r){r.d(t,{u:function(){return n}});var i=r(7437),a=r(2265);let n=e=>{let{isOpen:t,onClose:r,children:n,title:o,size:s="xl"}=e;return((0,a.useEffect)(()=>{let e=e=>{"Escape"===e.key&&r()};return t&&(document.addEventListener("keydown",e),document.body.style.overflow="hidden"),()=>{document.removeEventListener("keydown",e),document.body.style.overflow="unset"}},[t,r]),t)?(0,i.jsx)("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:(0,i.jsxs)("div",{className:"flex min-h-screen items-center justify-center p-0",children:[(0,i.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 transition-opacity duration-300 ease-in-out",onClick:r,"aria-hidden":"true"}),(0,i.jsxs)("div",{className:"relative w-full ".concat({sm:"max-w-md",md:"max-w-lg",lg:"max-w-2xl",xl:"max-w-5xl","2xl":"max-w-6xl","3xl":"max-w-7xl"}[s]," bg-white dark:bg-gray-800 rounded-xl shadow-xl transform transition-all duration-300 ease-in-out"),style:{position:"fixed",top:"50%",left:"50%",transform:"translate(-50%, -50%)",maxHeight:"90vh",overflowY:"auto"},role:"dialog","aria-modal":"true","aria-labelledby":o?"modal-title":void 0,children:[o&&(0,i.jsxs)("div",{className:"flex items-center justify-between p-6 border-b border-gray-200 dark:border-gray-600",children:[(0,i.jsx)("h2",{id:"modal-title",className:"text-xl font-semibold text-gray-900 dark:text-white",children:o}),(0,i.jsx)("button",{onClick:r,className:"text-gray-400 hover:text-primary-500 dark:text-gray-500 dark:hover:text-primary-400 transition-colors duration-200","aria-label":"Close modal",children:(0,i.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,i.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),(0,i.jsx)("div",{className:"p-6",children:n})]})]})}):null}}}]);